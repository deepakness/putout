@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
    }

    :focus-visible {
        outline: 2px solid rgb(var(--accent-500));
        outline-offset: 2px;
        border-radius: 0.25rem;
    }

    :focus:not(:focus-visible) {
        outline: none;
    }
}

/* Smooth dark mode transitions */
html.dark-transition,
html.dark-transition *,
html.dark-transition *::before,
html.dark-transition *::after {
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease !important;
}

/* Lucide icon styles */
[data-lucide] {
    width: 1em;
    height: 1em;
    stroke-width: 1.75;
}

/* Safe area inset for notched devices */
.pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
}

/* Print stylesheet */
@media print {
    /* Hide non-content UI elements */
    #sidebar,
    #overlay,
    header,
    footer,
    #progress-bar,
    #scroll-to-top,
    #mobile-toc-toggle,
    nav[aria-label="Chapter navigation"],
    .fixed {
        display: none !important;
    }

    body {
        background: white !important;
        color: black !important;
        font-size: 12pt;
    }

    main {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    article {
        max-width: 100% !important;
        padding: 0 !important;
    }

    /* Show URLs after links */
    a[href]:after {
        content: " (" attr(href) ")";
        font-size: 0.85em;
        opacity: 0.7;
    }

    /* Don't show URL for anchor links or javascript: links */
    a[href^="#"]:after,
    a[href^="javascript:"]:after {
        content: "";
    }

    /* Avoid page breaks inside elements */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
    }

    img, pre, blockquote {
        page-break-inside: avoid;
    }
}
